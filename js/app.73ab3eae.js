(function(){"use strict";var e={3843:function(e,t,n){var o=n(9242),a=n(3396);const l={class:"container"},i=(0,a._)("header",{class:"form-title"},[(0,a._)("p",null,"Форма подачи заявки в отдел сервиса и качества")],-1);function u(e,t,n,o,u,s){const r=(0,a.up)("router-view"),c=(0,a.up)("LayoutComponent");return(0,a.wg)(),(0,a.iD)("div",l,[i,(0,a._)("main",null,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])])}const s={class:"container"};function r(e,t,n,o,l,i){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var c={name:"LayoutComponent"},d=n(89);const p=(0,d.Z)(c,[["render",r],["__scopeId","data-v-6ee23e0e"]]);var m=p,h={components:{LayoutComponent:m}};const f=(0,d.Z)(h,[["render",u]]);var b=f,v=n(678);const g=e=>((0,a.dD)("data-v-0c10fb1d"),e=e(),(0,a.Cn)(),e),y={class:"container"},C=g((()=>(0,a._)("p",null,[(0,a.Uk)(" Приложите, пожалуйста, полноэкранный скриншот."),(0,a._)("br"),(0,a.Uk)("Это поможет быстрее решить проблему. ")],-1)));function _(e,t,n,l,i,u){const s=(0,a.up)("SelectComponent"),r=(0,a.up)("CheckboxComponent"),c=(0,a.up)("FormField"),d=(0,a.up)("RadioComponent"),p=(0,a.up)("InputComponent"),m=(0,a.up)("OrangeButton");return(0,a.wg)(),(0,a.iD)("form",y,[(0,a.Wm)(c,{label:"Ваш филиал",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{placeholder:"Выберите город",options:e.cities,modelValue:i.city,"onUpdate:modelValue":t[0]||(t[0]=e=>i.city=e)},null,8,["options","modelValue"]),(0,a.Wm)(r,{label:"Онлайн",modelValue:i.city,"onUpdate:modelValue":t[1]||(t[1]=e=>i.city=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{label:"Тема обращения",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{options:e.subjectOptions,modelValue:i.subject,"onUpdate:modelValue":t[2]||(t[2]=e=>i.subject=e)},null,8,["options","modelValue"]),(0,a.Wm)(p,{class:"input",placeholder:"Другое",options:e.subjectOptions,modelValue:i.subject,"onUpdate:modelValue":t[3]||(t[3]=e=>i.subject=e)},null,8,["options","modelValue"])])),_:1}),(0,a.Wm)(c,{label:"Описание проблемы",required:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("textarea",{class:"textarea-issue","onUpdate:modelValue":t[4]||(t[4]=e=>i.issue=e),placeholder:"Введите текст"},null,512),[[o.nr,i.issue]])])),_:1}),(0,a.Wm)(c,{label:"Загрузка документов"},{default:(0,a.w5)((()=>[C,(0,a._)("input",{onChange:t[5]||(t[5]=(...e)=>u.onFileChange&&u.onFileChange(...e)),type:"file"},null,32)])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{text:"отправить",disabled:!e.formIsValid,onClick:u.submitForm},null,8,["disabled","onClick"])])),_:1})])}var w=n(65),V=n(7139);const k={class:"form-item"},x=["textContent"];function O(e,t,n,o,l,i){return(0,a.wg)(),(0,a.iD)("fieldset",k,[n.label?((0,a.wg)(),(0,a.iD)("p",{key:0,class:(0,V.C_)(["title",{required:n.required}]),textContent:(0,V.zw)(n.label)},null,10,x)):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var j={name:"FormField",props:{label:{type:String,required:!1,default:""},required:{type:Boolean,required:!1}}};const D=(0,d.Z)(j,[["render",O],["__scopeId","data-v-0d27f908"]]);var I=D;const S={class:"select-wrapper"},q=["value","disabled"],F=["label"],W=["value"];function Z(e,t,n,o,l,i){return(0,a.wg)(),(0,a.iD)("label",null,[(0,a._)("span",S,[(0,a._)("select",{class:"input select-item",onInput:t[0]||(t[0]=(...e)=>i.changeOffice&&i.changeOffice(...e)),value:i.selectValue,disabled:i.isOnline},[(0,a._)("option",{value:"null",label:n.placeholder,hidden:"",disabled:""},null,8,F),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.options,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,V.zw)(e.value),9,W)))),128))],40,q)])])}var $={name:"SelectComponent",props:{options:{type:Array,required:!0},modelValue:{type:String||Number,default:null},placeholder:{type:String,required:!1,default:"Choose"}},emits:["update:modelValue"],computed:{isOnline(){return"online"===this.modelValue},selectValue(){return null===this.modelValue||"online"===this.modelValue?"null":this.modelValue}},methods:{changeOffice(e){this.$emit("update:modelValue",e.target.value)}}};const U=(0,d.Z)($,[["render",Z],["__scopeId","data-v-0c266514"]]);var z=U;const B=e=>((0,a.dD)("data-v-d689c52c"),e=e(),(0,a.Cn)(),e),T={class:"checkbox-item"},P=["checked"],A=B((()=>(0,a._)("div",{class:"checkbox-checkmark"},null,-1))),L=["textContent"];function M(e,t,n,o,l,i){return(0,a.wg)(),(0,a.iD)("label",T,[(0,a._)("input",{type:"checkbox",onInput:t[0]||(t[0]=(...e)=>i.checkboxChange&&i.checkboxChange(...e)),checked:i.isOnline},null,40,P),A,(0,a._)("p",{class:"checkbox-label",textContent:(0,V.zw)(n.label)},null,8,L)])}var R={name:"CheckboxComponent",props:{modelValue:{type:String||Number,default:null},label:{type:String,default:"label"}},emits:["update:modelValue"],computed:{isOnline(){return"online"===this.modelValue}},methods:{checkboxChange(e){const t=e.target.checked?"online":null;this.$emit("update:modelValue",t)}}};const E=(0,d.Z)(R,[["render",M],["__scopeId","data-v-d689c52c"]]);var H=E;const K=e=>((0,a.dD)("data-v-946d648e"),e=e(),(0,a.Cn)(),e),N=["checked","onInput"],Y=K((()=>(0,a._)("div",{class:"radio-checkmark"},null,-1))),G=["textContent"];function J(e,t,n,o,l,i){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.options,((t,o)=>((0,a.wg)(),(0,a.iD)("label",{class:"radio-item",key:o},[(0,a._)("input",{type:"radio",name:"group1",checked:t===n.modelValue,onInput:n=>e.$emit("update:modelValue",t)},null,40,N),Y,(0,a._)("p",{class:"radio-label",textContent:(0,V.zw)(t)},null,8,G)])))),128)}var Q={name:"RadioComponent",props:{modelValue:{type:String,required:!0},options:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"]};const X=(0,d.Z)(Q,[["render",J],["__scopeId","data-v-946d648e"]]);var ee=X;const te=["placeholder"];function ne(e,t,n,l,i,u){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>u.chooseValue=e),type:"text",placeholder:n.placeholder},null,8,te)),[[o.nr,u.chooseValue]])}var oe={name:"InputComponent",props:{modelValue:{type:String,required:!0},options:{type:Array,required:!1,default:()=>[]},placeholder:{type:String,required:!1,default:"Введите текст"}},emits:["update:modelValue"],computed:{chooseValue:{get(){return this.options.includes(this.modelValue)?"":this.modelValue},set(e){return this.$emit("update:modelValue",e)}}}};const ae=(0,d.Z)(oe,[["render",ne]]);var le=ae;const ie=["disabled","textContent"];function ue(e,t,n,l,i,u){return(0,a.wg)(),(0,a.iD)("button",{class:"submit-btn",disabled:n.disabled,onClick:t[0]||(t[0]=(0,o.iM)((t=>e.$emit("click")),["prevent"])),type:"submit",textContent:(0,V.zw)(n.text)},null,8,ie)}var se={name:"OrangeButton",props:{disabled:{type:Boolean,required:!1,default:!1},text:{type:String,required:!1,default:"отправить"}},emits:["click"]};const re=(0,d.Z)(se,[["render",ue],["__scopeId","data-v-199fe861"]]);var ce=re,de={name:"FormView",components:{FormField:I,CheckboxComponent:H,SelectComponent:z,RadioComponent:ee,InputComponent:le,OrangeButton:ce},data(){return{city:null,subject:"",issue:"",attachment:null}},computed:(0,w.rn)({formIsValid(){return this.city&&this.subject&&this.issue&&!this.sending},cities:e=>e.cities,subjectOptions:e=>e.subjectOptions,sending:e=>e.sending}),async created(){await this.$store.dispatch("fetchCities")},methods:{onFileChange(e){e.target.files.length?this.attachment=e.target.files[0]:this.attachment=null},async submitForm(){const e={city:this.city,subject:this.subject,issue:this.issue,attachment:this.attachment},t=await this.$store.dispatch("sendForm",e);if(t)return this.$router.push("success");alert("Ошибка отправки заявки")}}};const pe=(0,d.Z)(de,[["render",_],["__scopeId","data-v-0c10fb1d"]]);var me=pe;const he=e=>((0,a.dD)("data-v-2c4d3f1e"),e=e(),(0,a.Cn)(),e),fe={class:"form-success"},be=he((()=>(0,a._)("h1",null,"Данные успешно отправлены",-1))),ve=[be];function ge(e,t){return(0,a.wg)(),(0,a.iD)("div",fe,ve)}const ye={},Ce=(0,d.Z)(ye,[["render",ge],["__scopeId","data-v-2c4d3f1e"]]);var _e=Ce;const we=[{path:"/",name:"home",component:me},{path:"/success",name:"success",component:_e}],Ve=(0,v.p7)({history:(0,v.PO)("/max-edu-form/"),routes:we});var ke=Ve,xe=(n(1703),(0,w.MT)({state:{cities:[],subjectOptions:["Недоволен качеством услуг","Расторжение договора","Не приходит письмо активации на почту","Не работает личный кабинет"],sending:!1},getters:{},mutations:{addCities(e,t){e.cities=[...t]},setSendStatus(e,t){e.sending=t}},actions:{fetchCities({commit:e}){return fetch("https://624d935653326d0cfe4f0ab4.mockapi.io/api/v1/cities").then((e=>e.json())).then((t=>{const n=t.map((e=>{const{id:t,title:n}=e;return{id:t,value:n}}));e("addCities",n)}))},sendForm({commit:e},t){e("setSendStatus",!0);const n=new FormData;n.append("city",t.city),n.append("subject",t.subject),n.append("issue",t.issue),n.append("attachment",t.attachment);const o={method:"POST",headers:{"Content-Type":"multipart/form-data"},body:n};return fetch("https://625ed9533b039517f1fd701c.mockapi.io/api/edu/success",o).then((e=>e.json())).then((t=>{if(e("setSendStatus",!1),t.success)return!0;throw new Error("error")})).catch((()=>!1))}},modules:{}}));(0,o.ri)(b).use(xe).use(ke).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],l=e[c][2];for(var u=!0,s=0;s<o.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(u=!1,l<i&&(i=l));if(u){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,i=o[0],u=o[1],s=o[2],r=0;if(i.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(s)var c=s(n)}for(t&&t(o);r<i.length;r++)l=i[r],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self["webpackChunkmax_edu_form"]=self["webpackChunkmax_edu_form"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3843)}));o=n.O(o)})();
//# sourceMappingURL=app.73ab3eae.js.map